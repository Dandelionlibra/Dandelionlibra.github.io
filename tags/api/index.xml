<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>API on YuChen</title><link>https://Dandelionlibra.github.io/tags/api/</link><description>Recent content in API on YuChen</description><generator>Hugo -- gohugo.io</generator><language>zh-Hant-TW</language><lastBuildDate>Fri, 01 Aug 2025 06:00:00 +0800</lastBuildDate><atom:link href="https://Dandelionlibra.github.io/tags/api/index.xml" rel="self" type="application/rss+xml"/><item><title>LightRAG API Server æ•™å­¸ï¼šå¿«é€Ÿä¸Šæ‰‹æŒ‡å—</title><link>https://Dandelionlibra.github.io/post/note/lightrag-api-server-tutorial/</link><pubDate>Fri, 01 Aug 2025 06:00:00 +0800</pubDate><guid>https://Dandelionlibra.github.io/post/note/lightrag-api-server-tutorial/</guid><description>&lt;h1 id="lightrag-api-server-æ•™å­¸å¿«é€Ÿä¸Šæ‰‹æŒ‡å—">LightRAG API Server æ•™å­¸ï¼šå¿«é€Ÿä¸Šæ‰‹æŒ‡å—
&lt;/h1>&lt;p>&lt;a class="link" href="https://github.com/HKUDS/LightRAG" target="_blank" rel="noopener"
>LightRAG&lt;/a> æ˜¯ä¸€å€‹è¼•é‡ç´šã€æ¨¡çµ„åŒ–çš„ RAGï¼ˆæª¢ç´¢å¢å¼·ç”Ÿæˆï¼‰æ¡†æ¶ï¼Œæ—¨åœ¨ç°¡åŒ– RAG æ‡‰ç”¨çš„é–‹ç™¼èˆ‡éƒ¨ç½²ã€‚å…¶å…§å»ºçš„ API Server éµå¾ª OpenAI API æ¨™æº–ï¼Œä¸¦æä¾›ä¸€å¥—å®Œæ•´çš„ Web UI API ä¾†ç®¡ç†æ–‡ä»¶èˆ‡çŸ¥è­˜åœ–è­œï¼Œè®“é–‹ç™¼è€…èƒ½è¼•æ˜“åœ°å°‡è‡ªè¨‚çš„ RAG æµç¨‹å°è£æˆæœå‹™ï¼Œä¸¦èˆ‡ç¾æœ‰ç”Ÿæ…‹ç³»ç„¡ç¸«æ¥è»Œã€‚æœ¬æ–‡å°‡å¼•å°åˆå­¸è€…å®Œæˆå¾ç’°å¢ƒè¨­å®šåˆ° API å‘¼å«çš„å®Œæ•´æµç¨‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="1-å®‰è£èˆ‡ç’°å¢ƒè¨­å®š">1. å®‰è£èˆ‡ç’°å¢ƒè¨­å®š
&lt;/h2>&lt;h3 id="11-å®‰è£-lightrag">1.1. å®‰è£ LightRAG
&lt;/h3>&lt;ul>
&lt;li>install from PyPl&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>pip install &lt;span style="color:#e6db74">&amp;#34;lightrag-hku[api]&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Installation from Source&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 1. Clone the repository&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git clone https://github.com/HKUDS/LightRAG.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd LightRAG
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 2. create a Python virtual environment if necessary&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 3. Install in editable mode with API support&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pip install -e &lt;span style="color:#e6db74">&amp;#34;.[api]&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 4. ä¿®æ”¹ç¯„ä¾‹ç’°å¢ƒæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cp env.example .env
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 5. å•Ÿå‹• API Server&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>lightrag-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="12-ç’°å¢ƒæ–‡ä»¶è¨­å®š">1.2. ç’°å¢ƒæ–‡ä»¶è¨­å®š
&lt;/h3>&lt;ul>
&lt;li>OpenAI LLM + Ollama Embedding:&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>LLM_BINDING=openai
LLM_MODEL=gpt-4o
LLM_BINDING_HOST=https://api.openai.com/v1
LLM_BINDING_API_KEY=your_api_key
EMBEDDING_BINDING=ollama
EMBEDDING_BINDING_HOST=http://localhost:11434
EMBEDDING_MODEL=bge-m3:latest
EMBEDDING_DIM=1024
# EMBEDDING_BINDING_API_KEY=your_api_key
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>Ollama LLM + Ollama Embedding:&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>LLM_BINDING=ollama
LLM_MODEL=mistral-nemo:latest
LLM_BINDING_HOST=http://localhost:11434
# LLM_BINDING_API_KEY=your_api_key
### Ollama Server context length (Must be larger than MAX_TOTAL_TOKENS+2000)
OLLAMA_LLM_NUM_CTX=16384
EMBEDDING_BINDING=ollama
EMBEDDING_BINDING_HOST=http://localhost:11434
EMBEDDING_MODEL=bge-m3:latest
EMBEDDING_DIM=1024
# EMBEDDING_BINDING_API_KEY=your_api_key
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>å…¶ä»–ç’°å¢ƒè¨­å®šåƒæ•¸ï¼š
&lt;ul>
&lt;li>&lt;code>--host&lt;/code>ï¼šä¼ºæœå™¨ç›£è½ä½å€ï¼ˆé è¨­ï¼š0.0.0.0ï¼‰&lt;/li>
&lt;li>&lt;code>--port&lt;/code>ï¼šä¼ºæœå™¨ç›£è½é€£æ¥åŸ ï¼ˆé è¨­ï¼š9621ï¼‰&lt;/li>
&lt;li>&lt;code>--timeout&lt;/code>ï¼šLLM è«‹æ±‚é€¾æ™‚ï¼ˆé è¨­å€¼ï¼š150 ç§’ï¼‰&lt;/li>
&lt;li>&lt;code>--log-level&lt;/code>ï¼šæ—¥èªŒç­‰ç´šï¼ˆé è¨­ï¼šINFOï¼‰&lt;/li>
&lt;li>&lt;code>--working-dir&lt;/code>ï¼šè³‡æ–™åº«æŒä¹…ç›®éŒ„ï¼ˆé è¨­ï¼š./rag_storageï¼‰&lt;/li>
&lt;li>&lt;code>--input-dir&lt;/code>ï¼šä¸Šå‚³æª”æ¡ˆçš„ç›®éŒ„ï¼ˆé è¨­å€¼ï¼š./inputsï¼‰&lt;/li>
&lt;li>&lt;code>--workspace&lt;/code>ï¼šå·¥ä½œå€åç¨±ï¼Œç”¨æ–¼é‚è¼¯éš”é›¢å¤šå€‹ LightRAG å¯¦ä¾‹ä¹‹é–“çš„è³‡æ–™ï¼ˆé è¨­ï¼šç©ºï¼‰ï¼ŒåŠæ‰€ä»¥å·¥ä½œå…±ç”¨åŒä¸€å€‹è³‡æ–™ç›®éŒ„&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="13-ä½¿ç”¨-docker-å•Ÿå‹•-lightrag-ä¼ºæœå™¨">1.3. ä½¿ç”¨ Docker å•Ÿå‹• LightRAG ä¼ºæœå™¨
&lt;/h3>&lt;p>å»ºç«‹åç‚º &lt;code>docker compose.yml&lt;/code> çš„æª”æ¡ˆï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>services:
lightrag:
container_name: lightrag
image: ghcr.io/hkuds/lightrag:latest
ports:
- &amp;#34;${PORT:-9621}:9621&amp;#34;
volumes:
- ./data/rag_storage:/app/data/rag_storage
- ./data/inputs:/app/data/inputs
- ./config.ini:/app/config.ini
- ./.env:/app/.env
env_file:
- .env
restart: unless-stopped
extra_hosts:
- &amp;#34;host.docker.internal:host-gateway&amp;#34;
&lt;/code>&lt;/pre>&lt;p>å•Ÿå‹• LightRAG ä¼ºæœå™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>docker compose up
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># If you want the program to run in the background after startup, add the -d parameter at the end of the command.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="2-å•Ÿå‹•-api-server">2. å•Ÿå‹• API Server
&lt;/h2>&lt;p>LightRAG ä½¿ç”¨ä¸€å€‹ YAML æª”æ¡ˆä¾†è¨­å®š API Serverï¼ŒåŒ…å«ç«¯å£ã€API è·¯å¾‘ä»¥åŠè¦è¼‰å…¥çš„æ¨¡å‹ã€‚å°ˆæ¡ˆå…§å·²æä¾›ä¸€å€‹ç¯„ä¾‹è¨­å®šæª” &lt;code>lightrag_webui/config.yaml&lt;/code>ã€‚&lt;/p>
&lt;p>é€²å…¥å®¹å™¨å¾Œä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å•Ÿå‹•ä¼ºæœå™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>lightrag-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Server æˆåŠŸå•Ÿå‹•å¾Œï¼Œæ‚¨æœƒçœ‹åˆ°é¡ä¼¼ä»¥ä¸‹çš„è¼¸å‡ºï¼Œä»£è¡¨ä¼ºæœå™¨æ­£åœ¨ &lt;code>localhost:9621&lt;/code> ä¸Šé‹è¡Œï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code> â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ LightRAG Server v1.4.4/0189 â•‘
â•‘ Fast, Lightweight RAG Server Implementation â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¡ Server Configuration:
â”œâ”€ Host: 0.0.0.0
â”œâ”€ Port: 9621
â”œâ”€ Workers: 1
â”œâ”€ CORS Origins: *
â”œâ”€ SSL Enabled: False
â”œâ”€ Ollama Emulating Model: lightrag:latest
â”œâ”€ Log Level: INFO
â”œâ”€ Verbose Debug: False
â”œâ”€ History Turns: 0
â”œâ”€ API Key: Not Set
â””â”€ JWT Auth: Disabled
&lt;/code>&lt;/pre>&lt;hr>
&lt;h2 id="3-api-ç«¯é»è©³è§£">3. API ç«¯é»è©³è§£
&lt;/h2>&lt;p>&lt;code>-X&lt;/code>: æŒ‡å®š HTTP æ–¹æ³•&lt;br>
&lt;code>-H&lt;/code>: åŠ å…¥ HTTP æ¨™é ­&lt;/p>
&lt;blockquote>
&lt;p>ex. &lt;code>-H &amp;quot;Content-Type: application/json&amp;quot;&lt;/code> ç”¨æ–¼å‘ŠçŸ¥ä¼ºæœå™¨æ­¤æ¬¡è«‹æ±‚çš„è³‡æ–™æ ¼å¼æ˜¯ JSONã€‚&lt;br>
å¯å¤šæ¬¡ä½¿ç”¨ &lt;code>-H&lt;/code> åŠ æ¨™é ­ã€‚&lt;/p>&lt;/blockquote>
&lt;p>&lt;code>-d&lt;/code>: å‚³é€è«‹æ±‚è³‡æ–™ï¼Œå¸¸æ­é… &lt;code>POST&lt;/code>,&lt;code>PUT&lt;/code> ä½¿ç”¨ï¼Œç•¶æŒ‡å®š &lt;code>Content-Type: application/json&lt;/code> æ™‚ï¼ŒæœƒæŠŠå…§å®¹ç•¶ JSON å‚³é€ã€‚&lt;br>
&lt;code>-v&lt;/code>: verbose æ¨¡å¼ï¼Œé¡¯ç¤ºå®Œæ•´è«‹æ±‚èˆ‡å›æ‡‰éç¨‹ï¼Œä¸»è¦ç”¨æ–¼é™¤éŒ¯ã€‚&lt;br>
&lt;code>-o &amp;lt;file&amp;gt;&lt;/code>: è¼¸å‡ºåˆ°æª”æ¡ˆä¸­ã€‚&lt;/p>
&lt;hr>
&lt;p>&lt;strong>ç²å–æ–‡ä»¶ api æ•™å­¸&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>lightrag-server --help
&lt;/code>&lt;/pre>&lt;p>æˆ–åœ¨é€£ä¸Š server å¾Œé–‹å•Ÿ: http://localhost:9621/redoc#tag/documents/operation&lt;/p>
&lt;hr>
&lt;h3 id="31-documents">3.1. Documents
&lt;/h3>&lt;hr>
&lt;h4 id="311-scan-for-new-documents">3.1.1. Scan For New Documents
&lt;/h4>&lt;p>&lt;code>POST&lt;/code>: &lt;code>/documents/scan&lt;/code>&lt;br>
å•Ÿå‹•èƒŒæ™¯æƒæï¼Œå»æª¢æŸ¥è¼¸å…¥ç›®éŒ„ä¸­æ˜¯å¦æœ‰æ–°çš„æ–‡ä»¶ï¼Œè‹¥æœ‰å‰‡è®€å–é€™äº›æ–‡ä»¶ã€‚&lt;/p>
&lt;p>&lt;strong>å›å‚³å…§å®¹&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>status&lt;/code>(required): Status of the scanning operation.&lt;br>
value: &lt;code>scanning_started&lt;/code>&lt;/li>
&lt;li>&lt;code>message&lt;/code>: Additional details about the scanning operation.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -X POST &lt;span style="color:#e6db74">&amp;#34;http://localhost:9621/documents/scan&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h4 id="312-upload-to-input-dir">3.1.2. Upload To Input Dir
&lt;/h4>&lt;p>&lt;code>POST&lt;/code>: &lt;code>/documents/upload&lt;/code>&lt;br>
å°‡æª”æ¡ˆä¸Šå‚³åˆ°æŒ‡å®šçš„ç›®éŒ„ï¼Œå†å°å…¶é€²è¡Œç´¢å¼•ï¼Œä»¥ä¾¿æª¢ç´¢ã€‚&lt;/p>
&lt;p>&lt;strong>å‚³å…¥åƒæ•¸&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>file&lt;/code>(required): è¦ä¸Šå‚³çš„æª”æ¡ˆã€‚&lt;/li>
&lt;li>&lt;code>api_key_header_value&lt;/code>: æœ‰äº›ä¼ºæœå™¨å¯èƒ½éœ€è¦ API Key åšèº«ä»½é©—è­‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å›å‚³å…§å®¹&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>status&lt;/code>(required): Status of the uploadding operation.&lt;br>
Enum: &lt;code>success&lt;/code>ã€&lt;code>duplicated&lt;/code>ã€&lt;code>partial_success&lt;/code>ã€&lt;code>failure&lt;/code>&lt;/li>
&lt;li>&lt;code>message&lt;/code>(required): Message describing the operation result.&lt;/li>
&lt;/ul>
&lt;p>â€»&lt;code>-F &amp;quot;file=@æª”æ¡ˆè·¯å¾‘&amp;quot;&lt;/code> ç”¨æ–¼å‚³ multipart/form-dataã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -X POST &lt;span style="color:#e6db74">&amp;#34;http://localhost:9621/documents/upload&amp;#34;&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -F &lt;span style="color:#e6db74">&amp;#34;file=@./../prince_docs/little_prince_1.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;hr>
&lt;h3 id="32-query">3.2. Query
&lt;/h3>&lt;pre>&lt;code>mode: Literal[&amp;quot;local&amp;quot;, &amp;quot;global&amp;quot;, &amp;quot;hybrid&amp;quot;, &amp;quot;naive&amp;quot;, &amp;quot;mix&amp;quot;, &amp;quot;bypass&amp;quot;] = &amp;quot;global&amp;quot;
&amp;quot;&amp;quot;&amp;quot;Specifies the retrieval mode:
- &amp;quot;local&amp;quot;: Focuses on context-dependent information.
- &amp;quot;global&amp;quot;: Utilizes global knowledge.
- &amp;quot;hybrid&amp;quot;: Combines local and global retrieval methods.
- &amp;quot;naive&amp;quot;: Performs a basic search without advanced techniques.
- &amp;quot;mix&amp;quot;: Integrates knowledge graph and vector retrieval.
&amp;quot;&amp;quot;&amp;quot;
&lt;/code>&lt;/pre>
&lt;hr>
&lt;h3 id="33-documents">3.3. Documents
&lt;/h3>&lt;p>LightRAG API Server æä¾›å…©é¡ä¸»è¦çš„ç«¯é»ï¼šä¸€é¡æ˜¯éµå¾ª OpenAI æ¨™æº–çš„æ ¸å¿ƒèŠå¤© APIï¼Œå¦ä¸€é¡æ˜¯ Web UI ç”¨æ–¼ç®¡ç†è³‡æ–™çš„ APIã€‚&lt;/p>
&lt;h3 id="31-openai-æ¨™æº–-api">3.1. OpenAI æ¨™æº– API
&lt;/h3>&lt;p>é€™çµ„ API è®“ LightRAG å¯ä»¥è¼•æ˜“åœ°æ•´åˆé€²ç¾æœ‰çš„ OpenAI ç”Ÿæ…‹ç³»ã€‚&lt;/p>
&lt;h4 id="311-get-apiv1models">3.1.1. &lt;code>GET /api/v1/models&lt;/code>
&lt;/h4>&lt;p>æ­¤ç«¯é»ç”¨æ–¼æŸ¥è©¢ç•¶å‰ä¼ºæœå™¨ä¸Šæ‰€æœ‰å¯ç”¨çš„æ¨¡å‹ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>åŠŸèƒ½&lt;/strong>: åˆ—å‡ºåœ¨è¨­å®šæª”ä¸­å®šç¾©çš„æ‰€æœ‰æ¨¡å‹åç¨±ã€‚&lt;/li>
&lt;li>&lt;strong>ç¯„ä¾‹&lt;/strong>:
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -X GET http://localhost:8008/api/v1/models
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;strong>å›æ‡‰&lt;/strong>:
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;object&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;list&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;data&amp;#34;&lt;/span>: [
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;id&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;LightRAG&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;object&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;model&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;created&amp;#34;&lt;/span>: &lt;span style="color:#ae81ff">1721615822&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;owned_by&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;lightrag&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="312-post-apiv1chatcompletions">3.1.2. &lt;code>POST /api/v1/chat/completions&lt;/code>
&lt;/h4>&lt;p>é€™æ˜¯æ ¸å¿ƒçš„èŠå¤©äº’å‹•ç«¯é»ï¼ŒåŠŸèƒ½èˆ‡ OpenAI çš„ Chat Completions API å®Œå…¨ç›¸å®¹ã€‚å®ƒæ¥æ”¶ä½¿ç”¨è€…è¼¸å…¥ï¼ŒåŸ·è¡Œ RAG æµç¨‹ï¼Œä¸¦å›å‚³ LLM ç”Ÿæˆçš„ç­”æ¡ˆã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>åŠŸèƒ½&lt;/strong>: åŸ·è¡Œä¸€å€‹å®Œæ•´çš„ RAG æŸ¥è©¢ã€‚&lt;/li>
&lt;li>&lt;strong>ç¯„ä¾‹&lt;/strong>:
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -X POST http://localhost:8008/api/v1/chat/completions &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-H &lt;span style="color:#e6db74">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-d &lt;span style="color:#e6db74">&amp;#39;{
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;model&amp;#34;: &amp;#34;LightRAG&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;messages&amp;#34;: [
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;role&amp;#34;: &amp;#34;user&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;content&amp;#34;: &amp;#34;What is Retrieval-Augmented Generation?&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="32-web-ui-api-ç¸½è¦½">3.2. Web UI API ç¸½è¦½
&lt;/h3>&lt;p>é€™çµ„ API ä¸»è¦ç”± LightRAG çš„ Web UI ä½¿ç”¨ï¼Œæä¾›æ–‡ä»¶è™•ç†ã€æŸ¥è©¢ã€çŸ¥è­˜åœ–è­œç®¡ç†ç­‰é€²éšåŠŸèƒ½ã€‚&lt;/p>
&lt;h4 id="321-æ–‡ä»¶-documents-api">3.2.1. æ–‡ä»¶ (Documents) API
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">æ–¹æ³•&lt;/th>
&lt;th style="text-align: left">è·¯å¾‘&lt;/th>
&lt;th style="text-align: left">èªªæ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/scan&lt;/code>&lt;/td>
&lt;td style="text-align: left">æƒæè¼¸å…¥è³‡æ–™å¤¾ä¸­çš„æ–°æ–‡ä»¶ä¸¦é€²è¡Œè™•ç†ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/upload&lt;/code>&lt;/td>
&lt;td style="text-align: left">ä¸Šå‚³æ–‡ä»¶è‡³è¼¸å…¥è³‡æ–™å¤¾ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/text&lt;/code>&lt;/td>
&lt;td style="text-align: left">æ’å…¥å–®ç­†æ–‡å­—è³‡æ–™ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/texts&lt;/code>&lt;/td>
&lt;td style="text-align: left">æ’å…¥å¤šç­†æ–‡å­—è³‡æ–™ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>DELETE&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents&lt;/code>&lt;/td>
&lt;td style="text-align: left">æ¸…é™¤æ‰€æœ‰å·²è™•ç†çš„æ–‡ä»¶è³‡æ–™ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>GET&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents&lt;/code>&lt;/td>
&lt;td style="text-align: left">ç²å–å·²è™•ç†çš„æ–‡ä»¶åˆ—è¡¨ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>GET&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/pipeline_status&lt;/code>&lt;/td>
&lt;td style="text-align: left">ç²å–æ–‡ä»¶è™•ç†ç®¡é“çš„ç‹€æ…‹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>DELETE&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/delete_document&lt;/code>&lt;/td>
&lt;td style="text-align: left">æ ¹æ“šæ–‡ä»¶ ID åˆªé™¤æŒ‡å®šæ–‡ä»¶åŠå…¶ç›¸é—œè³‡æ–™ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/clear_cache&lt;/code>&lt;/td>
&lt;td style="text-align: left">æ¸…é™¤å¿«å–ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>DELETE&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/delete_entity&lt;/code>&lt;/td>
&lt;td style="text-align: left">åˆªé™¤æŒ‡å®šçš„å¯¦é«”ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>DELETE&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/documents/delete_relation&lt;/code>&lt;/td>
&lt;td style="text-align: left">åˆªé™¤æŒ‡å®šçš„é—œä¿‚ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="322-æŸ¥è©¢-query-api">3.2.2. æŸ¥è©¢ (Query) API
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">æ–¹æ³•&lt;/th>
&lt;th style="text-align: left">è·¯å¾‘&lt;/th>
&lt;th style="text-align: left">èªªæ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/query&lt;/code>&lt;/td>
&lt;td style="text-align: left">æäº¤ä¸€å€‹æŸ¥è©¢ä¸¦ç²å–ä¸€æ¬¡æ€§å›è¦†ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/query/stream&lt;/code>&lt;/td>
&lt;td style="text-align: left">æäº¤ä¸€å€‹æŸ¥è©¢ä¸¦ä»¥ä¸²æµæ–¹å¼ç²å–å›è¦†ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="323-çŸ¥è­˜åœ–è­œ-graph-api">3.2.3. çŸ¥è­˜åœ–è­œ (Graph) API
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">æ–¹æ³•&lt;/th>
&lt;th style="text-align: left">è·¯å¾‘&lt;/th>
&lt;th style="text-align: left">èªªæ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>GET&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/graph/label/list&lt;/code>&lt;/td>
&lt;td style="text-align: left">ç²å–çŸ¥è­˜åœ–è­œä¸­æ‰€æœ‰çš„æ¨™ç±¤ (Labels)ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>GET&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/graphs&lt;/code>&lt;/td>
&lt;td style="text-align: left">ç²å–å®Œæ•´çš„çŸ¥è­˜åœ–è­œè³‡æ–™ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>GET&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/graph/entity/exists&lt;/code>&lt;/td>
&lt;td style="text-align: left">æª¢æŸ¥æŒ‡å®šçš„å¯¦é«”æ˜¯å¦å­˜åœ¨ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/graph/entity/edit&lt;/code>&lt;/td>
&lt;td style="text-align: left">æ›´æ–°ä¸€å€‹å¯¦é«”çš„è³‡è¨Šã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/graph/relation/edit&lt;/code>&lt;/td>
&lt;td style="text-align: left">æ›´æ–°ä¸€å€‹é—œä¿‚çš„è³‡è¨Šã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="324-ollama-ç›¸å®¹-api">3.2.4. Ollama ç›¸å®¹ API
&lt;/h4>&lt;p>LightRAG ä¹Ÿæä¾›èˆ‡ Ollama ç›¸å®¹çš„ API ç«¯é»ï¼Œæ–¹ä¾¿èˆ‡ç›¸é—œå·¥å…·æ•´åˆã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">æ–¹æ³•&lt;/th>
&lt;th style="text-align: left">è·¯å¾‘&lt;/th>
&lt;th style="text-align: left">èªªæ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>GET&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/api/version&lt;/code>&lt;/td>
&lt;td style="text-align: left">ç²å– API ç‰ˆæœ¬ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>GET&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/api/tags&lt;/code>&lt;/td>
&lt;td style="text-align: left">ç²å–å¯ç”¨çš„æ¨¡å‹æ¨™ç±¤ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>GET&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/api/ps&lt;/code>&lt;/td>
&lt;td style="text-align: left">ç²å–æ­£åœ¨é‹è¡Œçš„æ¨¡å‹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/api/generate&lt;/code>&lt;/td>
&lt;td style="text-align: left">æ ¹æ“šæç¤ºç”Ÿæˆæ–‡å­—ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>POST&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>/api/chat&lt;/code>&lt;/td>
&lt;td style="text-align: left">é€²è¡ŒèŠå¤©äº’å‹•ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="4-ç¸½çµ">4. ç¸½çµ
&lt;/h2>&lt;p>LightRAG çš„ API Server æä¾›äº†ä¸€å€‹æ¨™æº–åŒ–ä¸”åŠŸèƒ½è±å¯Œçš„ä»‹é¢ï¼Œè®“é–‹ç™¼è€…èƒ½å°‡è¤‡é›œçš„ RAG æµç¨‹éƒ¨ç½²ç‚ºä¸€å€‹ç¨ç«‹æœå‹™ã€‚é€ééµå¾ª OpenAI çš„ API æ ¼å¼ä¸¦æä¾›å®Œæ•´çš„æ–‡ä»¶ç®¡ç† APIï¼Œå®ƒæ¥µå¤§åœ°é™ä½äº†æ•´åˆé–€æª»ï¼Œç„¡è«–æ˜¯é€²è¡Œå¿«é€ŸåŸå‹è¨­è¨ˆï¼Œé‚„æ˜¯å°‡å…¶æ•´åˆåˆ°ç¾æœ‰çš„æ‡‰ç”¨ç¨‹å¼ä¸­ï¼Œéƒ½è®Šå¾—éå¸¸æ–¹ä¾¿ã€‚å¸Œæœ›æœ¬ç¯‡æ•™å­¸èƒ½å¹«åŠ©æ‚¨é †åˆ©è¸å‡ºä½¿ç”¨ LightRAG çš„ç¬¬ä¸€æ­¥ã€‚&lt;/p></description></item></channel></rss>