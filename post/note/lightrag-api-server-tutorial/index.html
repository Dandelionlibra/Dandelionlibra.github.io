<!doctype html><html lang=zh-Hant-TW dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="æœªå®Œæˆ æœ¬æ–‡æä¾› LightRAG API Server çš„å®Œæ•´æ•™å­¸ï¼Œæ¶µè“‹ç’°å¢ƒè¨­å®šã€ä¼ºæœå™¨å•Ÿå‹•ã€å¸¸ç”¨ API ç«¯é»ä½¿ç”¨ç¯„ä¾‹ï¼Œå¹«åŠ©åˆå­¸è€…å¿«é€ŸæŒæ¡ LightRAG çš„æ ¸å¿ƒåŠŸèƒ½ã€‚"><title>LightRAG API Server æ•™å­¸ï¼šå¿«é€Ÿä¸Šæ‰‹æŒ‡å—</title><link rel=canonical href=https://Dandelionlibra.github.io/post/note/lightrag-api-server-tutorial/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="LightRAG API Server æ•™å­¸ï¼šå¿«é€Ÿä¸Šæ‰‹æŒ‡å—"><meta property='og:description' content="æœªå®Œæˆ æœ¬æ–‡æä¾› LightRAG API Server çš„å®Œæ•´æ•™å­¸ï¼Œæ¶µè“‹ç’°å¢ƒè¨­å®šã€ä¼ºæœå™¨å•Ÿå‹•ã€å¸¸ç”¨ API ç«¯é»ä½¿ç”¨ç¯„ä¾‹ï¼Œå¹«åŠ©åˆå­¸è€…å¿«é€ŸæŒæ¡ LightRAG çš„æ ¸å¿ƒåŠŸèƒ½ã€‚"><meta property='og:url' content='https://Dandelionlibra.github.io/post/note/lightrag-api-server-tutorial/'><meta property='og:site_name' content='YuChen'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='AI'><meta property='article:tag' content='Retrieval-Augmented Generation'><meta property='article:tag' content='RAG'><meta property='article:tag' content='LightRAG'><meta property='article:tag' content='API'><meta property='article:tag' content='Tutorial'><meta property='article:published_time' content='2025-08-01T06:00:00+08:00'><meta property='article:modified_time' content='2025-08-01T06:00:00+08:00'><meta name=twitter:title content="LightRAG API Server æ•™å­¸ï¼šå¿«é€Ÿä¸Šæ‰‹æŒ‡å—"><meta name=twitter:description content="æœªå®Œæˆ æœ¬æ–‡æä¾› LightRAG API Server çš„å®Œæ•´æ•™å­¸ï¼Œæ¶µè“‹ç’°å¢ƒè¨­å®šã€ä¼ºæœå™¨å•Ÿå‹•ã€å¸¸ç”¨ API ç«¯é»ä½¿ç”¨ç¯„ä¾‹ï¼Œå¹«åŠ©åˆå­¸è€…å¿«é€ŸæŒæ¡ LightRAG çš„æ ¸å¿ƒåŠŸèƒ½ã€‚"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_a0443a4a03d93adb.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>YuChen</a></h1><h2 class=site-description></h2></div></header><ol class=menu-social><li><a href=https://github.com/Dandelionlibra target=_blank title=Github rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/ target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/note/>Note</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/note/lightrag-api-server-tutorial/>LightRAG API Server æ•™å­¸ï¼šå¿«é€Ÿä¸Šæ‰‹æŒ‡å—</a></h2><h3 class=article-subtitle>æœªå®Œæˆ æœ¬æ–‡æä¾› LightRAG API Server çš„å®Œæ•´æ•™å­¸ï¼Œæ¶µè“‹ç’°å¢ƒè¨­å®šã€ä¼ºæœå™¨å•Ÿå‹•ã€å¸¸ç”¨ API ç«¯é»ä½¿ç”¨ç¯„ä¾‹ï¼Œå¹«åŠ©åˆå­¸è€…å¿«é€ŸæŒæ¡ LightRAG çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 01, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>4 minute read</time></div></footer></div></header><section class=article-content><h1 id=lightrag-api-server-æ•™å­¸å¿«é€Ÿä¸Šæ‰‹æŒ‡å—>LightRAG API Server æ•™å­¸ï¼šå¿«é€Ÿä¸Šæ‰‹æŒ‡å—</h1><p><a class=link href=https://github.com/HKUDS/LightRAG target=_blank rel=noopener>LightRAG</a> æ˜¯ä¸€å€‹è¼•é‡ç´šã€æ¨¡çµ„åŒ–çš„ RAGï¼ˆæª¢ç´¢å¢å¼·ç”Ÿæˆï¼‰æ¡†æ¶ï¼Œæ—¨åœ¨ç°¡åŒ– RAG æ‡‰ç”¨çš„é–‹ç™¼èˆ‡éƒ¨ç½²ã€‚å…¶å…§å»ºçš„ API Server éµå¾ª OpenAI API æ¨™æº–ï¼Œä¸¦æä¾›ä¸€å¥—å®Œæ•´çš„ Web UI API ä¾†ç®¡ç†æ–‡ä»¶èˆ‡çŸ¥è­˜åœ–è­œï¼Œè®“é–‹ç™¼è€…èƒ½è¼•æ˜“åœ°å°‡è‡ªè¨‚çš„ RAG æµç¨‹å°è£æˆæœå‹™ï¼Œä¸¦èˆ‡ç¾æœ‰ç”Ÿæ…‹ç³»ç„¡ç¸«æ¥è»Œã€‚æœ¬æ–‡å°‡å¼•å°åˆå­¸è€…å®Œæˆå¾ç’°å¢ƒè¨­å®šåˆ° API å‘¼å«çš„å®Œæ•´æµç¨‹ã€‚</p><hr><h2 id=1-å®‰è£èˆ‡ç’°å¢ƒè¨­å®š>1. å®‰è£èˆ‡ç’°å¢ƒè¨­å®š</h2><h3 id=11-å®‰è£-lightrag>1.1. å®‰è£ LightRAG</h3><ul><li>install from PyPl</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install <span style=color:#e6db74>&#34;lightrag-hku[api]&#34;</span>
</span></span></code></pre></div><ul><li>Installation from Source</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 1. Clone the repository</span>
</span></span><span style=display:flex><span>git clone https://github.com/HKUDS/LightRAG.git
</span></span><span style=display:flex><span>cd LightRAG
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2. create a Python virtual environment if necessary</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 3. Install in editable mode with API support</span>
</span></span><span style=display:flex><span>pip install -e <span style=color:#e6db74>&#34;.[api]&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 4. ä¿®æ”¹ç¯„ä¾‹ç’°å¢ƒæ–‡ä»¶</span>
</span></span><span style=display:flex><span>cp env.example .env
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 5. å•Ÿå‹• API Server</span>
</span></span><span style=display:flex><span>lightrag-server
</span></span></code></pre></div><h3 id=12-ç’°å¢ƒæ–‡ä»¶è¨­å®š>1.2. ç’°å¢ƒæ–‡ä»¶è¨­å®š</h3><ul><li>OpenAI LLM + Ollama Embedding:</li></ul><pre tabindex=0><code>LLM_BINDING=openai
LLM_MODEL=gpt-4o
LLM_BINDING_HOST=https://api.openai.com/v1
LLM_BINDING_API_KEY=your_api_key

EMBEDDING_BINDING=ollama
EMBEDDING_BINDING_HOST=http://localhost:11434
EMBEDDING_MODEL=bge-m3:latest
EMBEDDING_DIM=1024
# EMBEDDING_BINDING_API_KEY=your_api_key
</code></pre><ul><li>Ollama LLM + Ollama Embedding:</li></ul><pre tabindex=0><code>LLM_BINDING=ollama
LLM_MODEL=mistral-nemo:latest
LLM_BINDING_HOST=http://localhost:11434
# LLM_BINDING_API_KEY=your_api_key
###  Ollama Server context length (Must be larger than MAX_TOTAL_TOKENS+2000)
OLLAMA_LLM_NUM_CTX=16384

EMBEDDING_BINDING=ollama
EMBEDDING_BINDING_HOST=http://localhost:11434
EMBEDDING_MODEL=bge-m3:latest
EMBEDDING_DIM=1024
# EMBEDDING_BINDING_API_KEY=your_api_key
</code></pre><ul><li>å…¶ä»–ç’°å¢ƒè¨­å®šåƒæ•¸ï¼š<ul><li><code>--host</code>ï¼šä¼ºæœå™¨ç›£è½ä½å€ï¼ˆé è¨­ï¼š0.0.0.0ï¼‰</li><li><code>--port</code>ï¼šä¼ºæœå™¨ç›£è½é€£æ¥åŸ ï¼ˆé è¨­ï¼š9621ï¼‰</li><li><code>--timeout</code>ï¼šLLM è«‹æ±‚é€¾æ™‚ï¼ˆé è¨­å€¼ï¼š150 ç§’ï¼‰</li><li><code>--log-level</code>ï¼šæ—¥èªŒç­‰ç´šï¼ˆé è¨­ï¼šINFOï¼‰</li><li><code>--working-dir</code>ï¼šè³‡æ–™åº«æŒä¹…ç›®éŒ„ï¼ˆé è¨­ï¼š./rag_storageï¼‰</li><li><code>--input-dir</code>ï¼šä¸Šå‚³æª”æ¡ˆçš„ç›®éŒ„ï¼ˆé è¨­å€¼ï¼š./inputsï¼‰</li><li><code>--workspace</code>ï¼šå·¥ä½œå€åç¨±ï¼Œç”¨æ–¼é‚è¼¯éš”é›¢å¤šå€‹ LightRAG å¯¦ä¾‹ä¹‹é–“çš„è³‡æ–™ï¼ˆé è¨­ï¼šç©ºï¼‰ï¼ŒåŠæ‰€ä»¥å·¥ä½œå…±ç”¨åŒä¸€å€‹è³‡æ–™ç›®éŒ„</li></ul></li></ul><h3 id=13-ä½¿ç”¨-docker-å•Ÿå‹•-lightrag-ä¼ºæœå™¨>1.3. ä½¿ç”¨ Docker å•Ÿå‹• LightRAG ä¼ºæœå™¨</h3><p>å»ºç«‹åç‚º <code>docker compose.yml</code> çš„æª”æ¡ˆï¼š</p><pre tabindex=0><code>services:
  lightrag:
    container_name: lightrag
    image: ghcr.io/hkuds/lightrag:latest
    ports:
      - &#34;${PORT:-9621}:9621&#34;
    volumes:
      - ./data/rag_storage:/app/data/rag_storage
      - ./data/inputs:/app/data/inputs
      - ./config.ini:/app/config.ini
      - ./.env:/app/.env
    env_file:
      - .env
    restart: unless-stopped
    extra_hosts:
      - &#34;host.docker.internal:host-gateway&#34;
</code></pre><p>å•Ÿå‹• LightRAG ä¼ºæœå™¨ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker compose up
</span></span><span style=display:flex><span><span style=color:#75715e># If you want the program to run in the background after startup, add the -d parameter at the end of the command.</span>
</span></span></code></pre></div><hr><h2 id=2-å•Ÿå‹•-api-server>2. å•Ÿå‹• API Server</h2><p>LightRAG ä½¿ç”¨ä¸€å€‹ YAML æª”æ¡ˆä¾†è¨­å®š API Serverï¼ŒåŒ…å«ç«¯å£ã€API è·¯å¾‘ä»¥åŠè¦è¼‰å…¥çš„æ¨¡å‹ã€‚å°ˆæ¡ˆå…§å·²æä¾›ä¸€å€‹ç¯„ä¾‹è¨­å®šæª” <code>lightrag_webui/config.yaml</code>ã€‚</p><p>é€²å…¥å®¹å™¨å¾Œä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å•Ÿå‹•ä¼ºæœå™¨ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lightrag-server
</span></span></code></pre></div><p>Server æˆåŠŸå•Ÿå‹•å¾Œï¼Œæ‚¨æœƒçœ‹åˆ°é¡ä¼¼ä»¥ä¸‹çš„è¼¸å‡ºï¼Œä»£è¡¨ä¼ºæœå™¨æ­£åœ¨ <code>localhost:9621</code> ä¸Šé‹è¡Œï¼š</p><pre tabindex=0><code>    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                 LightRAG Server v1.4.4/0189                  â•‘
    â•‘         Fast, Lightweight RAG Server Implementation          â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ“¡ Server Configuration:
    â”œâ”€ Host: 0.0.0.0
    â”œâ”€ Port: 9621
    â”œâ”€ Workers: 1
    â”œâ”€ CORS Origins: *
    â”œâ”€ SSL Enabled: False
    â”œâ”€ Ollama Emulating Model: lightrag:latest
    â”œâ”€ Log Level: INFO
    â”œâ”€ Verbose Debug: False
    â”œâ”€ History Turns: 0
    â”œâ”€ API Key: Not Set
    â””â”€ JWT Auth: Disabled 
</code></pre><hr><h2 id=3-api-ç«¯é»è©³è§£>3. API ç«¯é»è©³è§£</h2><p><code>-X</code>: æŒ‡å®š HTTP æ–¹æ³•<br><code>-H</code>: åŠ å…¥ HTTP æ¨™é ­</p><blockquote><p>ex. <code>-H "Content-Type: application/json"</code> ç”¨æ–¼å‘ŠçŸ¥ä¼ºæœå™¨æ­¤æ¬¡è«‹æ±‚çš„è³‡æ–™æ ¼å¼æ˜¯ JSONã€‚<br>å¯å¤šæ¬¡ä½¿ç”¨ <code>-H</code> åŠ æ¨™é ­ã€‚</p></blockquote><p><code>-d</code>: å‚³é€è«‹æ±‚è³‡æ–™ï¼Œå¸¸æ­é… <code>POST</code>,<code>PUT</code> ä½¿ç”¨ï¼Œç•¶æŒ‡å®š <code>Content-Type: application/json</code> æ™‚ï¼ŒæœƒæŠŠå…§å®¹ç•¶ JSON å‚³é€ã€‚<br><code>-v</code>: verbose æ¨¡å¼ï¼Œé¡¯ç¤ºå®Œæ•´è«‹æ±‚èˆ‡å›æ‡‰éç¨‹ï¼Œä¸»è¦ç”¨æ–¼é™¤éŒ¯ã€‚<br><code>-o &lt;file></code>: è¼¸å‡ºåˆ°æª”æ¡ˆä¸­ã€‚</p><hr><p><strong>ç²å–æ–‡ä»¶ api æ•™å­¸</strong></p><pre tabindex=0><code>lightrag-server --help
</code></pre><p>æˆ–åœ¨é€£ä¸Š server å¾Œé–‹å•Ÿ: http://localhost:9621/redoc#tag/documents/operation</p><hr><h3 id=31-documents>3.1. Documents</h3><hr><h4 id=311-scan-for-new-documents>3.1.1. Scan For New Documents</h4><p><code>POST</code>: <code>/documents/scan</code><br>å•Ÿå‹•èƒŒæ™¯æƒæï¼Œå»æª¢æŸ¥è¼¸å…¥ç›®éŒ„ä¸­æ˜¯å¦æœ‰æ–°çš„æ–‡ä»¶ï¼Œè‹¥æœ‰å‰‡è®€å–é€™äº›æ–‡ä»¶ã€‚</p><p><strong>å›å‚³å…§å®¹</strong></p><ul><li><code>status</code>(required): Status of the scanning operation.<br>value: <code>scanning_started</code></li><li><code>message</code>: Additional details about the scanning operation.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST <span style=color:#e6db74>&#34;http://localhost:9621/documents/scan&#34;</span>
</span></span></code></pre></div><hr><h4 id=312-upload-to-input-dir>3.1.2. Upload To Input Dir</h4><p><code>POST</code>: <code>/documents/upload</code><br>å°‡æª”æ¡ˆä¸Šå‚³åˆ°æŒ‡å®šçš„ç›®éŒ„ï¼Œå†å°å…¶é€²è¡Œç´¢å¼•ï¼Œä»¥ä¾¿æª¢ç´¢ã€‚</p><p><strong>å‚³å…¥åƒæ•¸</strong></p><ul><li><code>file</code>(required): è¦ä¸Šå‚³çš„æª”æ¡ˆã€‚</li><li><code>api_key_header_value</code>: æœ‰äº›ä¼ºæœå™¨å¯èƒ½éœ€è¦ API Key åšèº«ä»½é©—è­‰ã€‚</li></ul><p><strong>å›å‚³å…§å®¹</strong></p><ul><li><code>status</code>(required): Status of the uploadding operation.<br>Enum: <code>success</code>ã€<code>duplicated</code>ã€<code>partial_success</code>ã€<code>failure</code></li><li><code>message</code>(required): Message describing the operation result.</li></ul><p>â€»<code>-F "file=@æª”æ¡ˆè·¯å¾‘"</code> ç”¨æ–¼å‚³ multipart/form-dataã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST <span style=color:#e6db74>&#34;http://localhost:9621/documents/upload&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -F <span style=color:#e6db74>&#34;file=@./../prince_docs/little_prince_1.txt&#34;</span>
</span></span></code></pre></div><hr><hr><h3 id=32-query>3.2. Query</h3><pre><code>mode: Literal[&quot;local&quot;, &quot;global&quot;, &quot;hybrid&quot;, &quot;naive&quot;, &quot;mix&quot;, &quot;bypass&quot;] = &quot;global&quot;
&quot;&quot;&quot;Specifies the retrieval mode:
- &quot;local&quot;: Focuses on context-dependent information.
- &quot;global&quot;: Utilizes global knowledge.
- &quot;hybrid&quot;: Combines local and global retrieval methods.
- &quot;naive&quot;: Performs a basic search without advanced techniques.
- &quot;mix&quot;: Integrates knowledge graph and vector retrieval.
&quot;&quot;&quot;
</code></pre><hr><h3 id=33-documents>3.3. Documents</h3><p>LightRAG API Server æä¾›å…©é¡ä¸»è¦çš„ç«¯é»ï¼šä¸€é¡æ˜¯éµå¾ª OpenAI æ¨™æº–çš„æ ¸å¿ƒèŠå¤© APIï¼Œå¦ä¸€é¡æ˜¯ Web UI ç”¨æ–¼ç®¡ç†è³‡æ–™çš„ APIã€‚</p><h3 id=31-openai-æ¨™æº–-api>3.1. OpenAI æ¨™æº– API</h3><p>é€™çµ„ API è®“ LightRAG å¯ä»¥è¼•æ˜“åœ°æ•´åˆé€²ç¾æœ‰çš„ OpenAI ç”Ÿæ…‹ç³»ã€‚</p><h4 id=311-get-apiv1models>3.1.1. <code>GET /api/v1/models</code></h4><p>æ­¤ç«¯é»ç”¨æ–¼æŸ¥è©¢ç•¶å‰ä¼ºæœå™¨ä¸Šæ‰€æœ‰å¯ç”¨çš„æ¨¡å‹ã€‚</p><ul><li><strong>åŠŸèƒ½</strong>: åˆ—å‡ºåœ¨è¨­å®šæª”ä¸­å®šç¾©çš„æ‰€æœ‰æ¨¡å‹åç¨±ã€‚</li><li><strong>ç¯„ä¾‹</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X GET http://localhost:8008/api/v1/models
</span></span></code></pre></div></li><li><strong>å›æ‡‰</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;object&#34;</span>: <span style=color:#e6db74>&#34;list&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;LightRAG&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;object&#34;</span>: <span style=color:#e6db74>&#34;model&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;created&#34;</span>: <span style=color:#ae81ff>1721615822</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;owned_by&#34;</span>: <span style=color:#e6db74>&#34;lightrag&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ul><h4 id=312-post-apiv1chatcompletions>3.1.2. <code>POST /api/v1/chat/completions</code></h4><p>é€™æ˜¯æ ¸å¿ƒçš„èŠå¤©äº’å‹•ç«¯é»ï¼ŒåŠŸèƒ½èˆ‡ OpenAI çš„ Chat Completions API å®Œå…¨ç›¸å®¹ã€‚å®ƒæ¥æ”¶ä½¿ç”¨è€…è¼¸å…¥ï¼ŒåŸ·è¡Œ RAG æµç¨‹ï¼Œä¸¦å›å‚³ LLM ç”Ÿæˆçš„ç­”æ¡ˆã€‚</p><ul><li><strong>åŠŸèƒ½</strong>: åŸ·è¡Œä¸€å€‹å®Œæ•´çš„ RAG æŸ¥è©¢ã€‚</li><li><strong>ç¯„ä¾‹</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8008/api/v1/chat/completions <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>-H <span style=color:#e6db74>&#34;Content-Type: application/json&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>-d <span style=color:#e6db74>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &#34;model&#34;: &#34;LightRAG&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &#34;messages&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &#34;role&#34;: &#34;user&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &#34;content&#34;: &#34;What is Retrieval-Augmented Generation?&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}&#39;</span>
</span></span></code></pre></div></li></ul><h3 id=32-web-ui-api-ç¸½è¦½>3.2. Web UI API ç¸½è¦½</h3><p>é€™çµ„ API ä¸»è¦ç”± LightRAG çš„ Web UI ä½¿ç”¨ï¼Œæä¾›æ–‡ä»¶è™•ç†ã€æŸ¥è©¢ã€çŸ¥è­˜åœ–è­œç®¡ç†ç­‰é€²éšåŠŸèƒ½ã€‚</p><h4 id=321-æ–‡ä»¶-documents-api>3.2.1. æ–‡ä»¶ (Documents) API</h4><div class=table-wrapper><table><thead><tr><th style=text-align:left>æ–¹æ³•</th><th style=text-align:left>è·¯å¾‘</th><th style=text-align:left>èªªæ˜</th></tr></thead><tbody><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/documents/scan</code></td><td style=text-align:left>æƒæè¼¸å…¥è³‡æ–™å¤¾ä¸­çš„æ–°æ–‡ä»¶ä¸¦é€²è¡Œè™•ç†ã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/documents/upload</code></td><td style=text-align:left>ä¸Šå‚³æ–‡ä»¶è‡³è¼¸å…¥è³‡æ–™å¤¾ã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/documents/text</code></td><td style=text-align:left>æ’å…¥å–®ç­†æ–‡å­—è³‡æ–™ã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/documents/texts</code></td><td style=text-align:left>æ’å…¥å¤šç­†æ–‡å­—è³‡æ–™ã€‚</td></tr><tr><td style=text-align:left><code>DELETE</code></td><td style=text-align:left><code>/documents</code></td><td style=text-align:left>æ¸…é™¤æ‰€æœ‰å·²è™•ç†çš„æ–‡ä»¶è³‡æ–™ã€‚</td></tr><tr><td style=text-align:left><code>GET</code></td><td style=text-align:left><code>/documents</code></td><td style=text-align:left>ç²å–å·²è™•ç†çš„æ–‡ä»¶åˆ—è¡¨ã€‚</td></tr><tr><td style=text-align:left><code>GET</code></td><td style=text-align:left><code>/documents/pipeline_status</code></td><td style=text-align:left>ç²å–æ–‡ä»¶è™•ç†ç®¡é“çš„ç‹€æ…‹ã€‚</td></tr><tr><td style=text-align:left><code>DELETE</code></td><td style=text-align:left><code>/documents/delete_document</code></td><td style=text-align:left>æ ¹æ“šæ–‡ä»¶ ID åˆªé™¤æŒ‡å®šæ–‡ä»¶åŠå…¶ç›¸é—œè³‡æ–™ã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/documents/clear_cache</code></td><td style=text-align:left>æ¸…é™¤å¿«å–ã€‚</td></tr><tr><td style=text-align:left><code>DELETE</code></td><td style=text-align:left><code>/documents/delete_entity</code></td><td style=text-align:left>åˆªé™¤æŒ‡å®šçš„å¯¦é«”ã€‚</td></tr><tr><td style=text-align:left><code>DELETE</code></td><td style=text-align:left><code>/documents/delete_relation</code></td><td style=text-align:left>åˆªé™¤æŒ‡å®šçš„é—œä¿‚ã€‚</td></tr></tbody></table></div><h4 id=322-æŸ¥è©¢-query-api>3.2.2. æŸ¥è©¢ (Query) API</h4><div class=table-wrapper><table><thead><tr><th style=text-align:left>æ–¹æ³•</th><th style=text-align:left>è·¯å¾‘</th><th style=text-align:left>èªªæ˜</th></tr></thead><tbody><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/query</code></td><td style=text-align:left>æäº¤ä¸€å€‹æŸ¥è©¢ä¸¦ç²å–ä¸€æ¬¡æ€§å›è¦†ã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/query/stream</code></td><td style=text-align:left>æäº¤ä¸€å€‹æŸ¥è©¢ä¸¦ä»¥ä¸²æµæ–¹å¼ç²å–å›è¦†ã€‚</td></tr></tbody></table></div><h4 id=323-çŸ¥è­˜åœ–è­œ-graph-api>3.2.3. çŸ¥è­˜åœ–è­œ (Graph) API</h4><div class=table-wrapper><table><thead><tr><th style=text-align:left>æ–¹æ³•</th><th style=text-align:left>è·¯å¾‘</th><th style=text-align:left>èªªæ˜</th></tr></thead><tbody><tr><td style=text-align:left><code>GET</code></td><td style=text-align:left><code>/graph/label/list</code></td><td style=text-align:left>ç²å–çŸ¥è­˜åœ–è­œä¸­æ‰€æœ‰çš„æ¨™ç±¤ (Labels)ã€‚</td></tr><tr><td style=text-align:left><code>GET</code></td><td style=text-align:left><code>/graphs</code></td><td style=text-align:left>ç²å–å®Œæ•´çš„çŸ¥è­˜åœ–è­œè³‡æ–™ã€‚</td></tr><tr><td style=text-align:left><code>GET</code></td><td style=text-align:left><code>/graph/entity/exists</code></td><td style=text-align:left>æª¢æŸ¥æŒ‡å®šçš„å¯¦é«”æ˜¯å¦å­˜åœ¨ã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/graph/entity/edit</code></td><td style=text-align:left>æ›´æ–°ä¸€å€‹å¯¦é«”çš„è³‡è¨Šã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/graph/relation/edit</code></td><td style=text-align:left>æ›´æ–°ä¸€å€‹é—œä¿‚çš„è³‡è¨Šã€‚</td></tr></tbody></table></div><h4 id=324-ollama-ç›¸å®¹-api>3.2.4. Ollama ç›¸å®¹ API</h4><p>LightRAG ä¹Ÿæä¾›èˆ‡ Ollama ç›¸å®¹çš„ API ç«¯é»ï¼Œæ–¹ä¾¿èˆ‡ç›¸é—œå·¥å…·æ•´åˆã€‚</p><div class=table-wrapper><table><thead><tr><th style=text-align:left>æ–¹æ³•</th><th style=text-align:left>è·¯å¾‘</th><th style=text-align:left>èªªæ˜</th></tr></thead><tbody><tr><td style=text-align:left><code>GET</code></td><td style=text-align:left><code>/api/version</code></td><td style=text-align:left>ç²å– API ç‰ˆæœ¬ã€‚</td></tr><tr><td style=text-align:left><code>GET</code></td><td style=text-align:left><code>/api/tags</code></td><td style=text-align:left>ç²å–å¯ç”¨çš„æ¨¡å‹æ¨™ç±¤ã€‚</td></tr><tr><td style=text-align:left><code>GET</code></td><td style=text-align:left><code>/api/ps</code></td><td style=text-align:left>ç²å–æ­£åœ¨é‹è¡Œçš„æ¨¡å‹ã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/api/generate</code></td><td style=text-align:left>æ ¹æ“šæç¤ºç”Ÿæˆæ–‡å­—ã€‚</td></tr><tr><td style=text-align:left><code>POST</code></td><td style=text-align:left><code>/api/chat</code></td><td style=text-align:left>é€²è¡ŒèŠå¤©äº’å‹•ã€‚</td></tr></tbody></table></div><hr><h2 id=4-ç¸½çµ>4. ç¸½çµ</h2><p>LightRAG çš„ API Server æä¾›äº†ä¸€å€‹æ¨™æº–åŒ–ä¸”åŠŸèƒ½è±å¯Œçš„ä»‹é¢ï¼Œè®“é–‹ç™¼è€…èƒ½å°‡è¤‡é›œçš„ RAG æµç¨‹éƒ¨ç½²ç‚ºä¸€å€‹ç¨ç«‹æœå‹™ã€‚é€ééµå¾ª OpenAI çš„ API æ ¼å¼ä¸¦æä¾›å®Œæ•´çš„æ–‡ä»¶ç®¡ç† APIï¼Œå®ƒæ¥µå¤§åœ°é™ä½äº†æ•´åˆé–€æª»ï¼Œç„¡è«–æ˜¯é€²è¡Œå¿«é€ŸåŸå‹è¨­è¨ˆï¼Œé‚„æ˜¯å°‡å…¶æ•´åˆåˆ°ç¾æœ‰çš„æ‡‰ç”¨ç¨‹å¼ä¸­ï¼Œéƒ½è®Šå¾—éå¸¸æ–¹ä¾¿ã€‚å¸Œæœ›æœ¬ç¯‡æ•™å­¸èƒ½å¹«åŠ©æ‚¨é †åˆ©è¸å‡ºä½¿ç”¨ LightRAG çš„ç¬¬ä¸€æ­¥ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/ai/>AI</a>
<a href=/tags/retrieval-augmented-generation/>Retrieval-Augmented Generation</a>
<a href=/tags/rag/>RAG</a>
<a href=/tags/lightrag/>LightRAG</a>
<a href=/tags/api/>API</a>
<a href=/tags/tutorial/>Tutorial</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/note/graphrag-lightrag-compare/><div class=article-details><h2 class=article-title>GraphRAG vs LightRAG</h2></div></a></article><article><a href=/post/paper/lightrag-paper-review/><div class=article-details><h2 class=article-title>LightRAG è«–æ–‡å°è®€ â€” Simple and Fast Retrieval-Augmented Generation ç­†è¨˜</h2></div></a></article><article><a href=/post/note/graphrag-overview/><div class=article-details><h2 class=article-title>GraphRAG æ¦‚è«–</h2></div></a></article><article><a href=/post/paper/re2g-paper-review/><div class=article-details><h2 class=article-title>Re2G è«–æ–‡å°è®€ â€” Retrieve, Rerank, Generate æ¡†æ¶è§£æèˆ‡æ‡‰ç”¨</h2></div></a></article><article><a href=/post/note/rag-type-compare-note/><div class=article-details><h2 class=article-title>ä¸‰ç¨® RAG æ¶æ§‹æ¯”è¼ƒèˆ‡æ‡‰ç”¨è§£æ â€” Naiveã€Advancedã€Modular RAG å·®ç•°æ•´ç†</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2025 YuChen</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>