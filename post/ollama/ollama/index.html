<!doctype html><html lang=zh-Hant-TW dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="本文詳細介紹如何在本地端（Windows/Mac/Linux）安裝與使用 Ollama，適合初學者參考。"><title>How to install and use Ollama?</title><link rel=canonical href=https://Dandelionlibra.github.io/post/ollama/ollama/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="How to install and use Ollama?"><meta property='og:description' content="本文詳細介紹如何在本地端（Windows/Mac/Linux）安裝與使用 Ollama，適合初學者參考。"><meta property='og:url' content='https://Dandelionlibra.github.io/post/ollama/ollama/'><meta property='og:site_name' content='YuChen'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Ollama'><meta property='article:tag' content='AI'><meta property='article:tag' content='Large language model'><meta property='article:tag' content='LLM'><meta property='article:published_time' content='2025-07-05T00:00:00+00:00'><meta property='article:modified_time' content='2025-07-05T00:00:00+00:00'><meta name=twitter:title content="How to install and use Ollama?"><meta name=twitter:description content="本文詳細介紹如何在本地端（Windows/Mac/Linux）安裝與使用 Ollama，適合初學者參考。"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_a0443a4a03d93adb.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>YuChen</a></h1><h2 class=site-description></h2></div></header><ol class=menu-social><li><a href=https://github.com/Dandelionlibra target=_blank title=Github rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/ target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/tutorial/>Tutorial</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/ollama/ollama/>How to install and use Ollama?</a></h2><h3 class=article-subtitle>本文詳細介紹如何在本地端（Windows/Mac/Linux）安裝與使用 Ollama，適合初學者參考。</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jul 05, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>4 minute read</time></div></footer></div></header><section class=article-content><h1 id=介紹-ollama>介紹 Ollama</h1><p>Ollama 是一個能在 本地（Windows/Mac/Linux）執行大型語言模型（LLM）和 Vision Language Model（VLM） 的框架。</p><ul><li>開源工具</li><li>在本地端運行大型語言模型</li><li>離線特性以保護隱私</li></ul><h1 id=安裝-ollama>安裝 Ollama</h1><h2 id=windows>Windows</h2><p>至 <a class=link href=https://ollama.com/ target=_blank rel=noopener>Ollama 官方網站</a>
下載 windows 版本後，點擊執行檔安裝。<br>安裝後於終端機中測試是否安裝成功。</p><pre tabindex=0><code>ollama --help
</code></pre><h2 id=mac>Mac</h2><p>參考官方文件的下載指令。</p><pre tabindex=0><code>brew install ollama
</code></pre><h2 id=linux>Linux</h2><p>參考官方文件的下載指令。</p><pre tabindex=0><code>curl -fsSL https://ollama.com/install.sh | sh
</code></pre><h1 id=如何使用-ollama>如何使用 Ollama?</h1><h3 id=在本地啟動服務>在本地啟動服務</h3><pre tabindex=0><code>ollama serve
</code></pre><pre tabindex=0><code>C:\Users\user&gt;ollama serve
</code></pre><h3 id=執行語言模型>執行語言模型</h3><p>可以參考官方文件中提供的模型 <a class=link href=https://ollama.com/search target=_blank rel=noopener>https://ollama.com/search</a></p><pre tabindex=0><code>ollama run [model name]
</code></pre><p>若是第一次運行該模型則會執行下載。
minicpm-V 是可用於解說圖片的語言模型，使用 <code>/bye</code> 離開。</p><pre tabindex=0><code>C:\Users\user&gt;ollama run minicpm-v:latest
pulling manifest
pulling 262843d4806a: 100% ▕█████████████████▏ 4.4 GB
pulling f8a805e9e620: 100% ▕█████████████████▏ 1.0 GB
pulling 60ed67c565f8: 100% ▕█████████████████▏  506 B
pulling 8603ca877636: 100% ▕█████████████████▏ 5.7 KB
pulling f02dd72bb242: 100% ▕█████████████████▏   59 B
pulling 175e3bb367ab: 100% ▕█████████████████▏  566 B
verifying sha256 digest
writing manifest
success

&gt;&gt;&gt; Discribe this picture &#34;C:\Users\user\Downloads\picture.png&#34;
Added image &#39;C:\Users\user\Downloads\picture.png&#39;
This image depicts a small white rodent sitting on the ground in an
outdoor setting. The animal appears to have soft fur with light
brownish-grey patches around its eyes and ears. Its pink nose is
prominent, as are its large black eyes which stand out against its pale
face.

&gt;&gt;&gt; /bye
</code></pre><p>終端呼叫模型並輸入指令。</p><pre tabindex=0><code>C:\Users\user&gt;ollama run llama3.1:8b &#34;define what is atom&#34;
An **atom** (from the Greek word &#34;atomos,&#34; meaning indivisible) is the smallest
unit of a chemical element that retains its chemical properties and is
considered the fundamental building block of matter.

In simpler terms, an atom is:

1. **Indivisible**: An atom cannot be broken down into smaller particles using
any known means.
2. **Stable**: Atoms are stable entities that do not change their structure or
composition over time.
3. **Unique**: Each element has a unique set of atoms with specific properties.

... 忽略 ...

Would you like me to explain any related concepts or clarify anything about
atoms?
</code></pre><h3 id=查看目前已安裝的語言模型>查看目前已安裝的語言模型</h3><pre tabindex=0><code>ollama list
</code></pre><pre tabindex=0><code>C:\Users\user&gt;ollama list
NAME                ID              SIZE      MODIFIED
minicpm-v:latest    c92bfad01205    5.5 GB    2 hours ago
llama3.1:8b         46e0c10c039e    4.9 GB    2 hours ago
</code></pre><h3 id=刪除已安裝的語言模型>刪除已安裝的語言模型</h3><pre tabindex=0><code>ollama rm [model name]
</code></pre><pre tabindex=0><code>C:\Users\user&gt;ollama rm minicpm-v:latest
deleted &#39;minicpm-v:latest&#39;

C:\Users\user&gt;ollama list
NAME           ID              SIZE      MODIFIED
llama3.1:8b    46e0c10c039e    4.9 GB    8 hours ago
</code></pre><h3></h3><h3 id=role-的-3-個主要類型><code>role</code> 的 3 個主要類型</h3><div class=table-wrapper><table><thead><tr><th>role</th><th>說明</th></tr></thead><tbody><tr><td><code>system</code></td><td>系統角色，設定「這個模型該如何表現自己」，定義整個對話的角色背景、口吻、限制。</td></tr><tr><td><code>user</code></td><td>使用者角色，模擬真實使用者輸入的訊息。</td></tr><tr><td><code>assistant</code></td><td>模型扮演的角色回覆。用來提供上下文（例如多輪對話）。</td></tr></tbody></table></div><h2 id=使用-python-與程式串接>使用 Python 與程式串接</h2><h3 id=使用-requests-呼叫>使用 requests 呼叫</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> requests
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># API URL</span>
</span></span><span style=display:flex><span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://127.0.0.1:11434/v1/chat/completions&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 請求資料</span>
</span></span><span style=display:flex><span>payload <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;model&#34;</span>: <span style=color:#e6db74>&#34;llama3.1:8b&#34;</span>,  <span style=color:#75715e># 對應你本地拉取的模型名稱</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;messages&#34;</span>: [
</span></span><span style=display:flex><span>        {<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;system&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;You are a helpful assistant.&#34;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;user&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;What is the capital of France?&#34;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;assistant&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;The capital of France is Paris.&#34;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;user&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;What is the population of Paris?&#34;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;assistant&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;As of 2023, the population of Paris is about 2.1 million.&#34;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;user&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;What river flows through Paris?&#34;</span>}
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Headers</span>
</span></span><span style=display:flex><span>headers <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Content-Type&#34;</span>: <span style=color:#e6db74>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e># &#34;Authorization&#34;: &#34;Bearer ollama&#34;  # 傳遞身份驗證資訊，本地伺服器預設不驗證金鑰可省略</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 發送 POST 請求</span>
</span></span><span style=display:flex><span>response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>post(url, headers<span style=color:#f92672>=</span>headers, data<span style=color:#f92672>=</span>json<span style=color:#f92672>.</span>dumps(payload))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 顯示結果</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> response<span style=color:#f92672>.</span>status_code <span style=color:#f92672>==</span> <span style=color:#ae81ff>200</span>: <span style=color:#75715e># HTTP 狀態碼 200 代表請求成功。</span>
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> response<span style=color:#f92672>.</span>json() <span style=color:#75715e># 解析 JSON 資料，此方法將回應內容（ex.字串）轉換成 Python 的資料結構（ex.dict）</span>
</span></span><span style=display:flex><span>    print(data[<span style=color:#e6db74>&#34;choices&#34;</span>][<span style=color:#ae81ff>0</span>][<span style=color:#e6db74>&#34;message&#34;</span>][<span style=color:#e6db74>&#34;content&#34;</span>])
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Error:&#34;</span>, response<span style=color:#f92672>.</span>status_code, response<span style=color:#f92672>.</span>text)
</span></span></code></pre></div><p>response 返回結構類似：</p><pre tabindex=0><code>{
    &#34;id&#34;: &#34;chatcmpl-1234567890abcdef&#34;,
    &#34;object&#34;: &#34;chat.completion&#34;,
    &#34;created&#34;: 1700000000,
    &#34;model&#34;: &#34;llama3.1:8b&#34;,
    &#34;choices&#34;: [
        {
            &#34;index&#34;: 0,
            &#34;message&#34;: {
                &#34;role&#34;: &#34;assistant&#34;,
                &#34;content&#34;: &#34;The capital of France is Paris.&#34;
            },
            &#34;finish_reason&#34;: &#34;stop&#34;
        }
    ],
    &#34;usage&#34;: {
        &#34;prompt_tokens&#34;: 20,
        &#34;completion_tokens&#34;: 10,
        &#34;total_tokens&#34;: 30
    }
}
</code></pre><h3 id=使用-openai-sdk-呼叫>使用 openai SDK 呼叫</h3><h4 id=安裝-openai>安裝 openai</h4><p>使用 pip 指令進行安裝。<br>ps.若沒有 pip 我未來再寫一篇安裝與使用 pip 的文章 ;)</p><pre tabindex=0><code>pip install openai
</code></pre><p>查看安裝版本 & 是否已安裝過</p><pre tabindex=0><code>pip show openai
</code></pre><pre tabindex=0><code>WARNING: Package(s) not found: openai
</code></pre><p>若已安裝過且版本小於 1.0.0，更新 openai 套件</p><pre tabindex=0><code>pip install --upgrade openai
</code></pre><h3 id=使用語言模型>使用語言模型</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> openai <span style=color:#f92672>import</span> OpenAI
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>client <span style=color:#f92672>=</span> OpenAI(
</span></span><span style=display:flex><span>    <span style=color:#75715e># base_url = &#34;http://localhost:11434/v1&#34;,</span>
</span></span><span style=display:flex><span>    base_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://127.0.0.1:11434/v1&#34;</span>, <span style=color:#75715e># 本地 Ollama 伺服器的 URL，預設端口為 11434</span>
</span></span><span style=display:flex><span>    api_key <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ollama&#34;</span>, <span style=color:#75715e># 本地 Ollama 不驗證密鑰，只要隨意填入即可，習慣使用 ollama</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 呼叫本地 Ollama 伺服器進行 Chat Completion</span>
</span></span><span style=display:flex><span>response <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>chat<span style=color:#f92672>.</span>completions<span style=color:#f92672>.</span>create(
</span></span><span style=display:flex><span>    model<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;llama3.1:8b&#34;</span>,
</span></span><span style=display:flex><span>    messages<span style=color:#f92672>=</span>[ <span style=color:#75715e># 設定對話內容</span>
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;system&#34;</span>, <span style=color:#75715e># 設定模型行為</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;You are a helpful assistant.&#34;</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;user&#34;</span>, <span style=color:#75715e># 使用者輸入的問題</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;What is the capital of France?&#34;</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>print(response<span style=color:#f92672>.</span>choices[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>message<span style=color:#f92672>.</span>content)
</span></span></code></pre></div><h3 id=使用-vision-model>使用 Vision model</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> base64
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> openai <span style=color:#f92672>import</span> OpenAI
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>image_path <span style=color:#f92672>=</span> <span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;C:\圖片路徑.png&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(image_path, <span style=color:#e6db74>&#34;rb&#34;</span>) <span style=color:#66d9ef>as</span> img_file:
</span></span><span style=display:flex><span>    b64_string <span style=color:#f92672>=</span> base64<span style=color:#f92672>.</span>b64encode(img_file<span style=color:#f92672>.</span>read())<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#34;utf-8&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 建立可傳入 Ollama 的完整 URL 字串</span>
</span></span><span style=display:flex><span>image_b64_url <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;data:image/png;base64,</span><span style=color:#e6db74>{</span>b64_string<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>client <span style=color:#f92672>=</span> OpenAI(
</span></span><span style=display:flex><span>    base_url<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://127.0.0.1:11434/v1&#34;</span>,
</span></span><span style=display:flex><span>    api_key<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ollama&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>response <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>chat<span style=color:#f92672>.</span>completions<span style=color:#f92672>.</span>create(
</span></span><span style=display:flex><span>    model<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;minicpm-v&#34;</span>,  <span style=color:#75715e># 支援圖片輸入的模型</span>
</span></span><span style=display:flex><span>    messages<span style=color:#f92672>=</span>[
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;user&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;content&#34;</span>: [
</span></span><span style=display:flex><span>                {<span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;text&#34;</span>, <span style=color:#e6db74>&#34;text&#34;</span>: <span style=color:#e6db74>&#34;Please describe the image in detail.&#34;</span>},
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;image_url&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;image_url&#34;</span>: {
</span></span><span style=display:flex><span>                        <span style=color:#e6db74>&#34;url&#34;</span>: image_b64_url
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(response<span style=color:#f92672>.</span>choices[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>message<span style=color:#f92672>.</span>content)
</span></span></code></pre></div></section><footer class=article-footer><section class=article-tags><a href=/tags/ollama/>Ollama</a>
<a href=/tags/ai/>AI</a>
<a href=/tags/large-language-model/>Large Language Model</a>
<a href=/tags/llm/>LLM</a></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Jul 05, 2025 00:00 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/langchain/uselangchain/><div class=article-details><h2 class=article-title>LangChain 安裝與基本使用</h2></div></a></article><article class=has-image><a href=/post/note/micro_facial_expression/><div class=article-image><img src=/unsplash.jpg loading=lazy data-key=Micro_Facial_Expression data-hash=/unsplash.jpg></div><div class=article-details><h2 class=article-title>微表情(Micro Facial Expression)</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2025 YuChen</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>